var $jscomp={scope:{},findInternal:function(a,f,c){a instanceof String&&(a=String(a));for(var g=a.length,e=0;e<g;e++){var h=a[e];if(f.call(c,h,e,a))return{i:e,v:h}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,f,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[f]=c.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,f,c,g){if(f){c=$jscomp.global;a=a.split(".");for(g=0;g<a.length-1;g++){var e=a[g];e in c||(c[e]={});c=c[e]}a=a[a.length-1];g=c[a];f=f(g);f!=g&&null!=f&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:f})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6-impl","es3");
var NewProperty=function(a){var f=a.Language,c=a.OldVal,g=!0,e=$("#idPropertValName"),h=$("#idPropertShowTag"),t=$("#idPropertValTag"),k=$("#idPropertBtnSave"),n=function(a){a?(g=!0,e.removeAttr("disabled"),h.removeAttr("disabled"),k.removeAttr("disabled")):(g=!1,e.attr("disabled","disabled"),h.attr("disabled","disabled"),k.attr("disabled","disabled"))},u=$("#idViewProperty"),p=function(){var a=$("#idPropertValName"),d=$("#idPropertStatusName");return{UpdateStatus:function(){var b;a.val()==c.Name?
(d.addClass("glyphicon-ok"),d.removeClass("glyphicon-warning-sign"),b=!1):(d.removeClass("glyphicon-ok"),d.addClass("glyphicon-warning-sign"),b=!0);return b},JqVal:a}}(),v=function(){var a=$("#idPropertValTag"),d=$("#idPropertStatusTag");return{UpdateStatus:function(){var b;a.val()==c.Tag?(d.addClass("glyphicon-ok"),d.removeClass("glyphicon-warning-sign"),b=!1):(d.removeClass("glyphicon-ok"),d.addClass("glyphicon-warning-sign"),b=!0);return b}}}(),q=$("#idPropertWriteStatus"),l=function(){var a=p.UpdateStatus(),
d=v.UpdateStatus(),c=!1;a||d?(q.text(f["status.write"]),c=!0):q.text(f["status.none"]);return c};p.JqVal.change(function(a){l()});(function(){var a=u.find(".kSpanName"),d=0;a.each(function(a,c){var b=$(c).width();b>d&&(d=b)});a.width(d)})();(function(){var c=$("#idPropertShowTag"),d=$("#idPropertValTag"),b=$("#idModalTagSure"),f=$("#idModalTagCancel"),e=$("#idBtnTag"),h=$("#idModalTagTree");h.jstree({plugins:["conditionalselect","sort"],conditionalselect:function(){this.deselect_all(!0);return!0},
sort:function(a,c){var d=this.get_node(a),b=this.get_node(c);return d.data>b.data?1:-1},core:{check_callback:!0,data:a.Data}}).on("ready.jstree",function(b){if((b=a.InitTag)&&"0"!=b&&""!=b){var f=h.jstree(!0),e=f.get_node(b);e&&(d.val(b),c.text(f.get_text(e)))}}).on("select_node.jstree",function(a,c){var d=$(this).jstree(!0),b=c.node;!d.is_leaf(b)&&d.is_closed(b)&&d.open_node(b);0!=b.data.Docs&&onSearch(d,b)}).off("keydown");c.click(function(a){g&&e.click()});var k=function(){c.text("");d.val("0");
f.click();l()};b.click(function(a){a=h.jstree(!0);var b=a.get_selected();if((b=b[0])&&""!=b&&"0"!=b){var e=a.get_node(b);e?(d.val(b),c.text(a.get_text(e)),f.click(),l()):k()}else k()})})();var m=$("#idPropertyMsg"),r=function(a,c){var b="<div class='alert ";m.html((1==c?b+"alert-info":2==c?b+"alert-warning":3==c?b+"alert-danger":b+"alert-success")+("' role='alert'>"+a+"</div>"));m.show("fast")};k.click(function(a){if(g&&l()){m.hide("fast");n(!1);var d=e.val(),b=t.val();$.ajax({url:"/Document/AjaxModify",
type:"POST",dataType:"json",data:{id:c.Id,name:d,tag:b}}).done(function(a){0==a.Code?(c.Name=d,c.Tag=b,l()):r(a.Emsg,3)}).fail(function(){r(f["err net"],3)}).always(function(){n(!0)})}});var w=$("#idPropertyBodyView"),x=$("#idPropertyBodyHide");$("#idPropertyHide").click(function(a){x.toggle("fast");w.toggle("fast")})};
