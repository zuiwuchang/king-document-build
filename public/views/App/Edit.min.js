var $jscomp={scope:{},findInternal:function(a,d,c){a instanceof String&&(a=String(a));for(var e=a.length,b=0;b<e;b++){var k=a[b];if(d.call(c,k,b,a))return{i:b,v:k}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,d,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[d]=c.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,d,c,e){if(d){c=$jscomp.global;a=a.split(".");for(e=0;e<a.length-1;e++){var b=a[e];b in c||(c[b]={});c=c[b]}a=a[a.length-1];e=c[a];d=d(e);d!=e&&null!=d&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:d})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6-impl","es3");
var NewContext=function(a){var d=a.Language,c=function(){var a=$("#idBtnModalInput"),d=$("#idModalInputTitle"),c=$("#idModalInputBody"),e=$("#idModalInputSure"),b=$("#idModalInputCancel"),g=null,h={Show:function(l,f,e){e&&(g=e);d.html(l);c.val(f);a.click();setTimeout(function(){c.select().focus()},200)},Hide:function(){b.click()}},m=function(){if(g){var a=c.val();g(h,a)}else b.click()};e.click(function(a){m()});c.keydown(function(a){13==a.keyCode&&m()});return h}(),e=function(){var a=$("#idBtnModalMsg"),
d=$("#idModalMsgTitle"),c=$("#idModalMsgBody"),e=$("#idModalMsgSure"),b=$("#idModalMsgCancel"),g=null,h={Show:function(e,l,f){f&&(g=f);d.html(e);c.html(l);a.click()},Hide:function(){b.click()}};e.click(function(a){g?g(h):b.click()});return h}(),b=function(a,c){var e=$("#idPanelsView"),b=$("<div class='panel panel-default'><a name='panel-"+a+"'></a><div class='panel-heading'><span class='glyphicon glyphicon-minus kBtnSpan kBtnMenuHide'></span><span class='kPanelName'>"+c+"</span></div><div class='panel-body'><div class='kPanelHide' style='display: none;'>"+
d["data is hide"]+"</div><div class='kPanelBody'>"+d["wait init data"]+"</div></div></div>");e.append(b);var r=b.find(".kPanelName:first"),g=b.find(".kPanelHide:first"),h=b.find(".kPanelBody:first");b.find(".kBtnMenuHide:first").click(function(a){g.toggle("fast");h.toggle("fast")});return{Rename:function(a){r.text(a)}}},k=function(){var b=!0,k=$("#idBtnToggle"),p=$("#idBodyHide"),q=$("#idBodyView");k.click(function(a){p.toggle("fast");q.toggle("jqView")});var n=$("#idListPanel");n.sortable().disableSelection();
var g=null,h=null,m=function(a,f){var l=$("<li class='list-group-item'><span data-id='"+a+"' class='glyphicon glyphicon-wrench kBtnSpan'></span><span data-id='"+a+"' class='glyphicon glyphicon-remove kBtnSpan'></span><a href='#panel-"+a+"'>"+f+"</a></li>"),k=l.find("a:first");n.append(l);g&&g(a,f);var r=function(c){c!=f&&b&&(b=!1,$.ajax({url:"/Panel/AjaxRename",type:"POST",dataType:"json",data:{id:a,name:c}}).done(function(b){0==b.Code?(f=c,k.text(f),h&&h(a,f)):e.Show(d["err.title"],b.Emsg)}).fail(function(){e.Show(d["err.title"],
d["err net"])}).always(function(){b=!0}))};l.find(".glyphicon-wrench").click(function(a){c.Show(d["input chapter"],f,function(a,b){a.Hide();r(b)})});l.find(".glyphicon-remove").click(function(b){alert(a+" remove")})};$("#idBtnNewPanel").click(function(c){if(b){b=!1;var f=d["new panel"];$.ajax({url:"/Panel/AjaxNew",type:"POST",dataType:"json",data:{chapter:a.Chapter.Id,name:f}}).done(function(a){0==a.Code?m(a.Value,f):e.Show(d["err.title"],a.Emsg)}).fail(function(){e.Show(d["err.title"],d["err net"])}).always(function(){b=
!0})}});return{Bind:function(a,b){"item.new"==a?g=b:"item.rename"==a&&(h=b)},New:function(a,b){m(a,b)}}}(),q={};k.Bind("item.new",function(a,c){q[a]=b(a,c)});k.Bind("item.rename",function(a,b){q[a].Rename(b)});for(var n=a.Panels,p=0;p<n.length;p++){var t=n[p];k.New(t.Id,t.Name)}};
